import"./modulepreload-polyfill-B5Qt9EMX.js";class n{constructor(){this.isKeyboardUser=!1,this.init()}init(){this.setupServiceWorker(),this.setupEventListeners(),this.setupKeyboardAccessibility()}setupServiceWorker(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{this.handleServiceWorkerUpdates(t)}).catch(t=>{})})}handleServiceWorkerUpdates(t){t.addEventListener("updatefound",()=>{const e=t.installing;e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&confirm("Eine neue Version ist verfügbar. Jetzt aktualisieren?")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload())})})}setupEventListeners(){document.addEventListener("click",t=>{const e=t.target.closest(".game-card");if(e){const a=e.dataset.game;this.navigateToGame(a)}}),document.addEventListener("keydown",t=>{if(t.key==="Enter"){const e=t.target.closest(".game-card");if(e){const a=e.dataset.game;this.navigateToGame(a)}}}),document.addEventListener("keydown",t=>{const e=t.key;e>="1"&&e<="5"&&this.handleKeyboardNavigation(parseInt(e)-1)})}setupKeyboardAccessibility(){document.addEventListener("keydown",()=>{this.isKeyboardUser=!0,document.body.classList.add("keyboard-user")}),document.addEventListener("mousedown",()=>{this.isKeyboardUser=!1,document.body.classList.remove("keyboard-user")})}handleKeyboardNavigation(t){const a=document.querySelectorAll(".game-card")[t];a&&(a.focus(),a.style.transform="scale(0.95)",setTimeout(()=>{a.style.transform="";const s=a.dataset.game;this.navigateToGame(s)},150))}navigateToGame(t){const e="?v=method_fix_"+Date.now(),a={connect4:"games/connect4/index.html"+e,gomoku:"games/gomoku/index.html"+e,trio:"games/trio/index.html"+e,lgame:"games/lgame/index.html"+e};a[t]?window.location.href=a[t]:alert(`Das Spiel "${t}" ist noch nicht verfügbar!`)}}function r(){new n}document.addEventListener("DOMContentLoaded",r);
//# sourceMappingURL=main-CRqiyXAB.js.map
