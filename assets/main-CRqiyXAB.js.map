{"version":3,"file":"main-CRqiyXAB.js","sources":["../../assets/js/landing-page.js?v=20250703"],"sourcesContent":["/**\n * Landing Page Controller - ES6 Module\n * Handles navigation, PWA functionality, and keyboard interactions\n */\n\nclass LandingPageController {\n  constructor() {\n    this.isKeyboardUser = false;\n    this.init();\n  }\n\n  init() {\n    this.setupServiceWorker();\n    this.setupEventListeners();\n    this.setupKeyboardAccessibility();\n  }\n\n  setupServiceWorker() {\n    if ('serviceWorker' in navigator) {\n      window.addEventListener('load', () => {\n        navigator.serviceWorker.register('/sw.js')\n          .then((registration) => {\n            console.log('✅ SW registered: ', registration);\n            this.handleServiceWorkerUpdates(registration);\n          })\n          .catch((error) => {\n            console.log('❌ SW registration failed: ', error);\n          });\n      });\n    }\n  }\n\n  handleServiceWorkerUpdates(registration) {\n    registration.addEventListener('updatefound', () => {\n      const newWorker = registration.installing;\n      newWorker.addEventListener('statechange', () => {\n        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n          if (confirm('Eine neue Version ist verfügbar. Jetzt aktualisieren?')) {\n            newWorker.postMessage({ type: 'SKIP_WAITING' });\n            window.location.reload();\n          }\n        }\n      });\n    });\n  }\n\n  setupEventListeners() {\n    // Handle click events with event delegation\n    document.addEventListener('click', (e) => {\n      const card = e.target.closest('.game-card');\n      if (card) {\n        const gameName = card.dataset.game;\n        this.navigateToGame(gameName);\n      }\n    });\n\n    // Handle Enter key on focused cards\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter') {\n        const card = e.target.closest('.game-card');\n        if (card) {\n          const gameName = card.dataset.game;\n          this.navigateToGame(gameName);\n        }\n      }\n    });\n\n    // Handle keyboard navigation (1-5 keys)\n    document.addEventListener('keydown', (e) => {\n      const key = e.key;\n      if (key >= '1' && key <= '5') {\n        this.handleKeyboardNavigation(parseInt(key) - 1);\n      }\n    });\n  }\n\n  setupKeyboardAccessibility() {\n    document.addEventListener('keydown', () => {\n      this.isKeyboardUser = true;\n      document.body.classList.add('keyboard-user');\n    });\n\n    document.addEventListener('mousedown', () => {\n      this.isKeyboardUser = false;\n      document.body.classList.remove('keyboard-user');\n    });\n  }\n\n  handleKeyboardNavigation(cardIndex) {\n    const gameCards = document.querySelectorAll('.game-card');\n    const targetCard = gameCards[cardIndex];\n\n    if (targetCard) {\n      targetCard.focus();\n      targetCard.style.transform = 'scale(0.95)';\n\n      setTimeout(() => {\n        targetCard.style.transform = '';\n        const gameName = targetCard.dataset.game;\n        this.navigateToGame(gameName);\n      }, 150);\n    }\n  }\n\n  navigateToGame(gameName) {\n    const cacheBuster = '?v=method_fix_' + Date.now();\n    const gameUrls = {\n      'connect4': 'games/connect4/index.html' + cacheBuster,\n      'gomoku': 'games/gomoku/index.html' + cacheBuster,\n      'trio': 'games/trio/index.html' + cacheBuster,\n      'lgame': 'games/lgame/index.html' + cacheBuster\n    };\n\n    if (gameUrls[gameName]) {\n      window.location.href = gameUrls[gameName];\n    } else {\n      alert(`Das Spiel \"${gameName}\" ist noch nicht verfügbar!`);\n    }\n  }\n}\n\n// Initialize landing page controller when DOM is ready\nexport function initLandingPage() {\n  new LandingPageController();\n}\n\n// Auto-initialize if this module is imported\ndocument.addEventListener('DOMContentLoaded', initLandingPage);"],"names":["LandingPageController","registration","error","newWorker","e","card","gameName","key","cardIndex","targetCard","cacheBuster","gameUrls","initLandingPage"],"mappings":"6CAKA,MAAMA,CAAsB,CAC1B,aAAc,CACZ,KAAK,eAAiB,GACtB,KAAK,KAAI,CACb,CAEE,MAAO,CACL,KAAK,mBAAkB,EACvB,KAAK,oBAAmB,EACxB,KAAK,2BAA0B,CACnC,CAEE,oBAAqB,CACf,kBAAmB,WACrB,OAAO,iBAAiB,OAAQ,IAAM,CACpC,UAAU,cAAc,SAAS,QAAQ,EACtC,KAAMC,GAAiB,CAEtB,KAAK,2BAA2BA,CAAY,CACxD,CAAW,EACA,MAAOC,GAAU,CAE5B,CAAW,CACX,CAAO,CAEP,CAEE,2BAA2BD,EAAc,CACvCA,EAAa,iBAAiB,cAAe,IAAM,CACjD,MAAME,EAAYF,EAAa,WAC/BE,EAAU,iBAAiB,cAAe,IAAM,CAC1CA,EAAU,QAAU,aAAe,UAAU,cAAc,YACzD,QAAQ,uDAAuD,IACjEA,EAAU,YAAY,CAAE,KAAM,cAAc,CAAE,EAC9C,OAAO,SAAS,OAAM,EAGlC,CAAO,CACP,CAAK,CACL,CAEE,qBAAsB,CAEpB,SAAS,iBAAiB,QAAUC,GAAM,CACxC,MAAMC,EAAOD,EAAE,OAAO,QAAQ,YAAY,EAC1C,GAAIC,EAAM,CACR,MAAMC,EAAWD,EAAK,QAAQ,KAC9B,KAAK,eAAeC,CAAQ,CACpC,CACA,CAAK,EAGD,SAAS,iBAAiB,UAAYF,GAAM,CAC1C,GAAIA,EAAE,MAAQ,QAAS,CACrB,MAAMC,EAAOD,EAAE,OAAO,QAAQ,YAAY,EAC1C,GAAIC,EAAM,CACR,MAAMC,EAAWD,EAAK,QAAQ,KAC9B,KAAK,eAAeC,CAAQ,CACtC,CACA,CACA,CAAK,EAGD,SAAS,iBAAiB,UAAYF,GAAM,CAC1C,MAAMG,EAAMH,EAAE,IACVG,GAAO,KAAOA,GAAO,KACvB,KAAK,yBAAyB,SAASA,CAAG,EAAI,CAAC,CAEvD,CAAK,CACL,CAEE,4BAA6B,CAC3B,SAAS,iBAAiB,UAAW,IAAM,CACzC,KAAK,eAAiB,GACtB,SAAS,KAAK,UAAU,IAAI,eAAe,CACjD,CAAK,EAED,SAAS,iBAAiB,YAAa,IAAM,CAC3C,KAAK,eAAiB,GACtB,SAAS,KAAK,UAAU,OAAO,eAAe,CACpD,CAAK,CACL,CAEE,yBAAyBC,EAAW,CAElC,MAAMC,EADY,SAAS,iBAAiB,YAAY,EAC3BD,CAAS,EAElCC,IACFA,EAAW,MAAK,EAChBA,EAAW,MAAM,UAAY,cAE7B,WAAW,IAAM,CACfA,EAAW,MAAM,UAAY,GAC7B,MAAMH,EAAWG,EAAW,QAAQ,KACpC,KAAK,eAAeH,CAAQ,CACpC,EAAS,GAAG,EAEZ,CAEE,eAAeA,EAAU,CACvB,MAAMI,EAAc,iBAAmB,KAAK,IAAG,EACzCC,EAAW,CACf,SAAY,4BAA8BD,EAC1C,OAAU,0BAA4BA,EACtC,KAAQ,wBAA0BA,EAClC,MAAS,yBAA2BA,CAC1C,EAEQC,EAASL,CAAQ,EACnB,OAAO,SAAS,KAAOK,EAASL,CAAQ,EAExC,MAAM,cAAcA,CAAQ,6BAA6B,CAE/D,CACA,CAGO,SAASM,GAAkB,CAChC,IAAIZ,CACN,CAGA,SAAS,iBAAiB,mBAAoBY,CAAe"}