import"./modulepreload-polyfill-B5Qt9EMX.js";import"./SoundManager-l0sNRNKZ.js";import{_ as v,L as y}from"./game_engine-DD1aZRKp.js";import{_ as u}from"./preload-helper-DDWtIbF5.js";class P{constructor(){this.game=null,this.initialized=!1,this.rows=4,this.cols=4,this.gameHistory=[],this.currentMoveIndex=-1,this.eventListeners=new Map,this.moveStartTime=null,this.totalMoves=0,this.averageMoveTime=0,this.selectedPiece=null,this.movePhase="l-piece",this.pendingMove=null}async init(){try{await v(),this.game=new y,this.initialized=!0;const e=this.estimateMemoryUsage(),t=48;if(e<=t){const i=((t-e)/t*100).toFixed(1)}return this.emit("initialized",{memoryUsage:e}),!0}catch(e){throw e}}estimateMemoryUsage(){return 3*16}makeMove(e,t,i){if(!this.initialized)throw new Error("Game not initialized");this.moveStartTime=performance.now();try{if(e<0||e>=this.rows||t<0||t>=this.cols)throw new Error(`Invalid position: (${e}, ${t}). Must be within 4x4 grid`);if(i<0||i>7)throw new Error(`Invalid orientation: ${i}. Must be 0-7`);const a=this.game.current_player;this.game.make_move(e,t,i);const n=performance.now()-this.moveStartTime;this.totalMoves++,this.averageMoveTime=(this.averageMoveTime*(this.totalMoves-1)+n)/this.totalMoves;const r={type:"l-piece",toRow:e,toCol:t,orientation:i,player:a,moveNumber:this.game.move_count,timestamp:Date.now(),executionTime:n};this.gameHistory.push(r),this.currentMoveIndex++;const s={type:"l-piece",toRow:e,toCol:t,orientation:i,player:a,board:this.getBoard(),currentPlayer:this.game.current_player,isGameOver:this.game.game_over,winner:this.game.winner,moveNumber:this.game.move_count,executionTime:n,canMoveNeutral:!this.game.game_over};if(this.emit("move",s),this.emit("lPieceMove",s),s.isGameOver){const o={winner:s.winner,winnerName:this.getPlayerName(s.winner),totalMoves:this.totalMoves,averageMoveTime:this.averageMoveTime};this.emit("gameOver",o)}return s}catch(a){throw a}}moveNeutralPiece(e,t,i,a){if(!this.initialized)throw new Error("Game not initialized");if(this.game.game_over)throw new Error("Game is over - no neutral moves allowed");try{if(e<0||e>=this.rows||t<0||t>=this.cols||i<0||i>=this.rows||a<0||a>=this.cols)throw new Error("Invalid coordinates for neutral piece move");if(this.getCell(e,t)!==3)throw new Error(`No neutral piece at (${e},${t})`);if(this.getCell(i,a)!==0)throw new Error(`Target position (${i},${a}) is not empty`);this.game.move_neutral_piece(e,t,i,a);const n={type:"neutral",fromRow:e,fromCol:t,toRow:i,toCol:a,timestamp:Date.now()};this.gameHistory.length>0&&(this.gameHistory[this.gameHistory.length-1].neutralMove=n);const r={type:"neutral",fromRow:e,fromCol:t,toRow:i,toCol:a,board:this.getBoard()};return this.emit("neutralMove",r),r}catch(n){throw n}}getGameState(){return this.initialized?{board:this.getBoard(),currentPlayer:this.game.current_player,currentPlayerName:this.getPlayerName(this.game.current_player),moveCount:this.game.move_count,isGameOver:this.game.game_over,winner:this.game.winner,winnerName:this.getPlayerName(this.game.winner),validMovesCount:this.game.get_valid_moves_count(),memoryUsage:this.estimateMemoryUsage(),performanceStats:{totalMoves:this.totalMoves,averageMoveTime:this.averageMoveTime}}:null}getBoard(){if(!this.initialized)return null;const e=this.game.get_board_state(),t=[];for(let i=0;i<this.rows;i++){t[i]=[];for(let a=0;a<this.cols;a++)t[i][a]=e[i*this.cols+a]}return t}getCell(e,t){if(!this.initialized||e<0||e>=this.rows||t<0||t>=this.cols)return 0;try{return this.game.get_cell(e,t)}catch{return 0}}getCurrentPlayer(){return this.initialized?this.game.current_player:1}getPlayerName(e){return e?e===1?"Gelb":"Rot":"None"}getMoveCount(){return this.initialized?this.game.move_count:0}isGameOver(){return this.initialized?this.game.game_over:!1}getWinner(){return this.initialized?this.game.winner:null}getValidMovesCount(){return this.initialized?this.game.get_valid_moves_count():0}isCurrentPlayerBlocked(){return this.initialized?this.game.is_current_player_blocked():!1}newGame(){if(!this.initialized)throw new Error("Game not initialized");try{this.game.reset(),this.gameHistory=[],this.currentMoveIndex=-1,this.totalMoves=0,this.averageMoveTime=0,this.selectedPiece=null,this.movePhase="l-piece",this.pendingMove=null,this.emit("newGame",this.getGameState())}catch(e){throw e}}canMoveNeutralFrom(e,t){return!this.initialized||this.game.game_over?!1:this.getCell(e,t)===3}canPlaceNeutralAt(e,t){return!this.initialized||this.game.game_over?!1:this.getCell(e,t)===0}getNeutralPieces(){if(!this.initialized)return[];const e=[];for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++)this.getCell(t,i)===3&&e.push({row:t,col:i});return e}getEmptyPositions(){if(!this.initialized)return[];const e=[];for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++)this.getCell(t,i)===0&&e.push({row:t,col:i});return e}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}off(e,t){if(this.eventListeners.has(e)){const i=this.eventListeners.get(e),a=i.indexOf(t);a>-1&&i.splice(a,1)}}emit(e,t){if(this.eventListeners.has(e)){const i=this.eventListeners.get(e);for(const a of i)try{a(t)}catch{}}}getPerformanceStats(){const e=this.estimateMemoryUsage(),t=48;let i="0%";return this.initialized&&(e<=t?i=`${((t-e)/t*100).toFixed(1)}% savings`:i=`${((e-t)/t*100).toFixed(1)}% overhead`),{totalMoves:this.totalMoves,averageMoveTime:this.averageMoveTime,memoryUsage:e,memoryEfficiency:i,architecture:"3x BitPackedBoard<4,4,1>"}}getHistory(){return[...this.gameHistory]}exportGame(){return{history:this.getHistory(),finalState:this.getGameState(),performance:this.getPerformanceStats(),timestamp:Date.now()}}debugBoard(){if(!this.initialized)return;const e=this.getBoard();for(let t=0;t<this.rows;t++){let i=`${t+1}: `;for(let a=0;a<this.cols;a++){const n=e[t][a];let r=".";n===1?r="G":n===2?r="R":n===3&&(r="N"),i+=r+" "}}}getDebugInfo(){return this.initialized?{gameState:this.getGameState(),performance:this.getPerformanceStats(),neutralPieces:this.getNeutralPieces(),emptyPositions:this.getEmptyPositions(),history:this.getHistory()}:null}destroy(){this.eventListeners.clear(),this.gameHistory=[],this.initialized=!1,this.game=null,this.selectedPiece=null,this.pendingMove=null}}class w{constructor(e){this.gameBoard=e,this.boardSize=4,this.cells=[],this.pieces={player1:{type:"lpiece",cells:[],orientation:0},player2:{type:"lpiece",cells:[],orientation:0},neutral1:{type:"neutral",cell:null},neutral2:{type:"neutral",cell:null}},this.initialized=!1,this.selectedPiece=null,this.highlightedCells=new Set}async init(){return this.initializeBoard()}async createBoard(){return this.initializeBoard()}initializeBoard(){return this.gameBoard?(this.gameBoard.innerHTML="",this.cells=[],this._applyBoardStyles(),this._createBoardCells(),this.initialized=!0,!0):!1}_applyBoardStyles(){this.gameBoard.className="game-board lgame-board",Object.assign(this.gameBoard.style,{display:"grid",gridTemplateColumns:`repeat(${this.boardSize}, 1fr)`,gridTemplateRows:`repeat(${this.boardSize}, 1fr)`,gap:"4px",aspectRatio:"1/1",background:"linear-gradient(45deg, #8B4513, #A0522D)",borderRadius:"12px",padding:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",border:"3px solid #654321",width:"320px",height:"320px",margin:"1rem auto",position:"relative"})}_createBoardCells(){for(let e=0;e<this.boardSize;e++)for(let t=0;t<this.boardSize;t++){const i=this._createCell(e,t);this.cells.push(i),this.gameBoard.appendChild(i)}}_createCell(e,t){const i=document.createElement("div");return i.className="board-cell",i.dataset.row=e,i.dataset.col=t,i.dataset.index=e*this.boardSize+t,Object.assign(i.style,{background:"linear-gradient(45deg, #F5DEB3, #FFEFD5)",border:"2px solid #8B4513",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",position:"relative",userSelect:"none",borderRadius:"4px"}),i}getCellAt(e,t){return this.gameBoard.querySelector(`[data-row="${e}"][data-col="${t}"]`)}getCellByIndex(e){return this.gameBoard.querySelector(`[data-index="${e}"]`)}placeLPiece(e,t,i=0){return!Array.isArray(t)||t.length!==4?!1:(this.clearLPiece(e),t.forEach((a,n)=>{const[r,s]=a,o=this.getCellAt(r,s);if(o){const d=this._createLPiece(e,n===0);o.appendChild(d),this.pieces[e].cells.push({row:r,col:s,cell:o})}}),this.pieces[e].orientation=i,!0)}_createLPiece(e,t=!1){const i=document.createElement("div");i.className=`lpiece ${e} placing`;const a={player1:{background:"linear-gradient(135deg, #FFD700, #FFC107)",border:"2px solid #F57F17"},player2:{background:"linear-gradient(135deg, #F44336, #C62828)",border:"2px solid #B71C1C"}};if(Object.assign(i.style,{width:"100%",height:"100%",borderRadius:"4px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)",position:"relative",...a[e]}),t){const n=document.createElement("div");n.className="corner-indicator",Object.assign(n.style,{position:"absolute",top:"2px",right:"2px",width:"6px",height:"6px",background:"rgba(255, 255, 255, 0.8)",borderRadius:"50%"}),i.appendChild(n)}return i}clearLPiece(e){this.pieces[e].cells.forEach(({cell:t})=>{const i=t.querySelector(".lpiece");i&&i.remove()}),this.pieces[e].cells=[]}placeNeutralPiece(e,t,i){const a=this.getCellAt(t,i);if(!a)return!1;this.clearNeutralPiece(e);const n=this._createNeutralPiece();return a.appendChild(n),this.pieces[e]={type:"neutral",cell:{row:t,col:i,element:a}},!0}_createNeutralPiece(){const e=document.createElement("div");return e.className="neutral-piece placing",Object.assign(e.style,{width:"70%",height:"70%",borderRadius:"50%",background:"linear-gradient(135deg, #757575, #424242)",border:"2px solid #212121",boxShadow:"0 3px 8px rgba(0, 0, 0, 0.3)"}),e}clearNeutralPiece(e){if(this.pieces[e]&&this.pieces[e].cell){const i=this.pieces[e].cell.element.querySelector(".neutral-piece");i&&i.remove(),this.pieces[e].cell=null}}clearBoard(){this.cells.forEach(e=>{e.querySelectorAll(".lpiece, .neutral-piece").forEach(i=>i.remove()),e.classList.remove("highlighted","selected","valid-move","invalid-move","blockade-threat","winning-position","move-preview")}),this.pieces={player1:{type:"lpiece",cells:[],orientation:0},player2:{type:"lpiece",cells:[],orientation:0},neutral1:{type:"neutral",cell:null},neutral2:{type:"neutral",cell:null}},this.selectedPiece=null,this.highlightedCells.clear()}highlightValidMoves(e){this.clearHighlights(),Array.isArray(e)&&e.forEach(t=>{let i,a;Array.isArray(t)?[i,a]=t:(i=t.row,a=t.col);const n=this.getCellAt(i,a);n&&(n.classList.add("valid-move"),this.highlightedCells.add(n))})}showInvalidMove(e,t){const i=this.getCellAt(e,t);i&&(i.classList.add("invalid-move"),setTimeout(()=>{i.classList.remove("invalid-move")},1e3))}selectPiece(e,t){this.clearSelection();const i=this.getCellAt(e,t);i&&(i.classList.add("selected"),this.selectedPiece={row:e,col:t,cell:i})}clearSelection(){this.selectedPiece&&(this.selectedPiece.cell.classList.remove("selected"),this.selectedPiece=null)}clearHighlights(){this.highlightedCells.forEach(e=>{e.classList.remove("valid-move","highlighted","move-preview")}),this.highlightedCells.clear()}showBlockadeThreat(e){Array.isArray(e)&&e.forEach(t=>{const[i,a]=t,n=this.getCellAt(i,a);n&&n.classList.add("blockade-threat")})}showWinningPosition(e){this.pieces[e].cells.forEach(({cell:t})=>{t.classList.add("winning-position")})}updateFromGameState(e){this.clearBoard(),e&&(e.player1_lpiece&&this.placeLPiece("player1",e.player1_lpiece.positions,e.player1_lpiece.orientation),e.player2_lpiece&&this.placeLPiece("player2",e.player2_lpiece.positions,e.player2_lpiece.orientation),e.neutral1&&this.placeNeutralPiece("neutral1",e.neutral1.row,e.neutral1.col),e.neutral2&&this.placeNeutralPiece("neutral2",e.neutral2.row,e.neutral2.col))}getBoardState(){return{pieces:{...this.pieces},selectedPiece:this.selectedPiece,highlightedCells:Array.from(this.highlightedCells)}}isPositionEmpty(e,t){const i=this.getCellAt(e,t);return i&&!i.querySelector(".lpiece, .neutral-piece")}isValidPosition(e,t){return e>=0&&e<this.boardSize&&t>=0&&t<this.boardSize}getPieceAt(e,t){const i=this.getCellAt(e,t);if(!i)return null;const a=i.querySelector(".lpiece");return a?{type:"lpiece",player:a.classList.contains("player1")?"player1":"player2"}:i.querySelector(".neutral-piece")?{type:"neutral"}:null}getAllCells(){return this.cells}}class E{constructor(e,t){this.boardRenderer=e,this.gameBoard=t,this.hoveredCell=null,this.selectedLPiece=null,this.previewElements=[],this.isProcessingMove=!1,this.interactionMode="L_PIECE",this.currentOrientation=0,this.eventListeners=[],this.onCellClickCallback=null,this.onCellHoverCallback=null,this.onCellHoverLeaveCallback=null,this.onLPieceSelectCallback=null,this.onNeutralPiecePlaceCallback=null}setupCellInteractions(){this.gameBoard&&(this._setupBoardClickHandler(),this._setupBoardHoverHandler())}_setupBoardClickHandler(){const e=t=>{const i=t.target.closest(".board-cell");if(i){const a=parseInt(i.dataset.row),n=parseInt(i.dataset.col);this.handleCellClick(a,n)}};this.gameBoard.addEventListener("click",e),this._trackEventListener(this.gameBoard,"click",e)}_setupBoardHoverHandler(){const e=i=>{const a=i.target.closest(".board-cell");if(a){const n=parseInt(a.dataset.row),r=parseInt(a.dataset.col);!isNaN(n)&&!isNaN(r)&&this.handleCellHover(n,r)}},t=i=>{(!i.relatedTarget||!this.gameBoard.contains(i.relatedTarget))&&this.handleCellHoverLeave()};this.gameBoard.addEventListener("mouseenter",e,!0),this.gameBoard.addEventListener("mouseleave",t),this._trackEventListener(this.gameBoard,"mouseenter",e),this._trackEventListener(this.gameBoard,"mouseleave",t)}handleCellHover(e,t){this.isProcessingMove||(this.hoveredCell={row:e,col:t},this.interactionMode==="L_PIECE"&&this.selectedLPiece?this.showLPiecePreview(e,t,this.selectedLPiece,this.currentOrientation):this.interactionMode==="NEUTRAL_PIECE"&&this.showNeutralPiecePreview(e,t),this.gameBoard.setAttribute("data-hover-row",e),this.gameBoard.setAttribute("data-hover-col",t),this.onCellHoverCallback&&this.onCellHoverCallback(e,t))}handleCellHoverLeave(){this.hoveredCell=null,this.hidePreview(),this.gameBoard.removeAttribute("data-hover-row"),this.gameBoard.removeAttribute("data-hover-col"),this.onCellHoverLeaveCallback&&this.onCellHoverLeaveCallback()}handleCellClick(e,t){this.isProcessingMove||e<0||e>=4||t<0||t>=4||this.onCellClickCallback&&this.onCellClickCallback(e,t,this.interactionMode,this.selectedLPiece,this.currentOrientation)}showLPiecePreview(e,t,i,a){this.hidePreview();const n=this._getLPiecePositions(e,t,a);this._isValidLPiecePlacement(n)&&n.forEach((r,s)=>{const[o,d]=r,m=this.boardRenderer.getCellAt(o,d);if(m){const h=document.createElement("div");h.className=`l-piece-preview player-${i} ${s===0?"anchor":"segment"}`,h.style.cssText=`
                    position: absolute;
                    top: 5%;
                    left: 5%;
                    right: 5%;
                    bottom: 5%;
                    background: ${i===1?"rgba(59, 130, 246, 0.5)":"rgba(239, 68, 68, 0.5)"};
                    border: 2px dashed ${i===1?"#3b82f6":"#ef4444"};
                    border-radius: 4px;
                    z-index: 10;
                    pointer-events: none;
                `,m.appendChild(h),this.previewElements.push(h)}})}showNeutralPiecePreview(e,t){this.hidePreview();const i=this.boardRenderer.getCellAt(e,t);if(i&&this._isValidNeutralPiecePlacement(e,t)){const a=document.createElement("div");a.className="neutral-piece-preview",a.style.cssText=`
                position: absolute;
                top: 20%;
                left: 20%;
                right: 20%;
                bottom: 20%;
                background: rgba(255, 255, 255, 0.7);
                border: 2px dashed #ffffff;
                border-radius: 50%;
                z-index: 10;
                pointer-events: none;
            `,i.appendChild(a),this.previewElements.push(a)}}hidePreview(){this.previewElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.previewElements=[]}_getLPiecePositions(e,t,i){return[[[0,0],[1,0],[2,0],[0,1]],[[0,0],[0,1],[0,2],[1,0]],[[0,0],[0,1],[1,1],[2,1]],[[0,0],[1,0],[1,-1],[1,-2]],[[0,0],[1,0],[2,0],[0,-1]],[[0,0],[0,1],[0,2],[-1,0]],[[0,0],[0,-1],[1,-1],[2,-1]],[[0,0],[-1,0],[-1,1],[-1,2]]][i%8].map(([r,s])=>[e+r,t+s])}_isValidLPiecePlacement(e){return e.every(([t,i])=>!(t<0||t>=4||i<0||i>=4))}_isValidNeutralPiecePlacement(e,t){return!(e<0||e>=4||t<0||t>=4)}setupKeyboardInteractions(){const e=t=>{switch(t.key.toLowerCase()){case"r":this.rotateCurrentLPiece(),t.preventDefault();break;case"1":this.selectLPiece(1),t.preventDefault();break;case"2":this.selectLPiece(2),t.preventDefault();break;case"n":this.setInteractionMode("NEUTRAL_PIECE"),t.preventDefault();break;case"l":this.setInteractionMode("L_PIECE"),t.preventDefault();break}};document.addEventListener("keydown",e),this._trackEventListener(document,"keydown",e)}selectLPiece(e){this.selectedLPiece=e,this.setInteractionMode("L_PIECE"),this.onLPieceSelectCallback&&this.onLPieceSelectCallback(e)}rotateCurrentLPiece(){this.currentOrientation=(this.currentOrientation+1)%8,this.hoveredCell&&this.selectedLPiece&&this.showLPiecePreview(this.hoveredCell.row,this.hoveredCell.col,this.selectedLPiece,this.currentOrientation)}setInteractionMode(e){this.interactionMode=e,this.hidePreview(),e==="L_PIECE"?this.gameBoard.style.cursor="crosshair":e==="NEUTRAL_PIECE"&&(this.gameBoard.style.cursor="pointer")}setProcessingMove(e){this.isProcessingMove=e,e?(this.hidePreview(),this.gameBoard.style.cursor="wait"):this.gameBoard.style.cursor=this.interactionMode==="L_PIECE"?"crosshair":"pointer"}highlightCell(e,t,i="highlight"){this.clearCellHighlights(i);const a=this.boardRenderer.getCellAt(e,t);a&&a.classList.add(i)}clearCellHighlights(e="highlight"){this.gameBoard.querySelectorAll(`.board-cell.${e}`).forEach(i=>i.classList.remove(e))}setCallbacks({onCellClick:e,onCellHover:t,onCellHoverLeave:i,onLPieceSelect:a,onNeutralPiecePlace:n}){this.onCellClickCallback=e,this.onCellHoverCallback=t,this.onCellHoverLeaveCallback=i,this.onLPieceSelectCallback=a,this.onNeutralPiecePlaceCallback=n}_trackEventListener(e,t,i){this.eventListeners.push({element:e,event:t,handler:i})}getInteractionState(){return{mode:this.interactionMode,selectedLPiece:this.selectedLPiece,orientation:this.currentOrientation,hoveredCell:this.hoveredCell}}destroy(){for(const{element:e,event:t,handler:i}of this.eventListeners)e.removeEventListener(t,i);this.eventListeners=[],this.hidePreview(),this.hoveredCell=null,this.selectedLPiece=null,this.previewElements=[],this.onCellClickCallback=null,this.onCellHoverCallback=null,this.onCellHoverLeaveCallback=null,this.onLPieceSelectCallback=null,this.onNeutralPiecePlaceCallback=null}}class L{constructor(e,t){this.gameBoard=e,this.boardRenderer=t,this.animationQueue=[],this.isAnimating=!1,this.previewElements=[],this.celebrationActive=!1,this.reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.animationSpeed=this.reducedMotion?.5:1,this.particleEngine=null,this.soundManager=null,this.initializePremiumEffects(),this.timing={lPiecePlacement:300,lPieceRotation:200,neutralPiece:150,victoryReveal:600,victoryStagger:100,confettiDuration:2500,microInteraction:150}}async initializePremiumEffects(){try{await this.initializeParticleEngine(),await this.initializeSoundManager()}catch{}}async initializeParticleEngine(){try{const{ParticleEngine:e}=await u(async()=>{const{ParticleEngine:i}=await import("./ParticleEngine-gbcPFTkt.js");return{ParticleEngine:i}},[]);let t=document.getElementById("lgameParticleCanvas");t||(t=document.createElement("canvas"),t.id="lgame-particles",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.zIndex="9999",t.width=window.innerWidth,t.height=window.innerHeight,document.body.appendChild(t)),this.particleEngine=new e(t,{maxParticles:this.reducedMotion?15:100})}catch{this.particleEngine=null}}async initializeSoundManager(){try{const{soundManager:e}=await u(async()=>{const{soundManager:t}=await import("./SoundManager-l0sNRNKZ.js");return{soundManager:t}},[]);this.soundManager=e}catch{this.soundManager=null}}async animateLPiecePlacement(e,t,i){return new Promise(a=>{this.soundManager&&this.soundManager.playLPiecePlace(),this.clearPlayerLPiece(t);let n=0;const r=e.length;e.forEach((s,o)=>{const[d,m]=s,h=this.boardRenderer.getCellAt(d,m);h&&setTimeout(()=>{const c=document.createElement("div");c.className=`l-piece player-${t} ${o===0?"anchor":"segment"} orientation-${i}`,c.dataset.player=t,c.dataset.segmentIndex=o,c.style.cssText=`
                            position: absolute;
                            top: 10%;
                            left: 10%;
                            right: 10%;
                            bottom: 10%;
                            background: ${t===1?"linear-gradient(145deg, #3b82f6, #1d4ed8)":"linear-gradient(145deg, #ef4444, #dc2626)"};
                            border: 2px solid ${t===1?"#1e40af":"#b91c1c"};
                            border-radius: 6px;
                            transform: scale(0) rotate(${i*45}deg);
                            opacity: 0;
                            transition: all ${this.timing.lPiecePlacement*this.animationSpeed}ms cubic-bezier(0.34, 1.56, 0.64, 1);
                            z-index: 10;
                            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
                        `,o===0&&(c.style.borderWidth="3px",c.style.boxShadow=`0 2px 12px ${t===1?"rgba(59, 130, 246, 0.5)":"rgba(239, 68, 68, 0.5)"}`),h.appendChild(c),requestAnimationFrame(()=>{c.style.transform="scale(1) rotate(0deg)",c.style.opacity="1"});const g=()=>{c.removeEventListener("transitionend",g),n++,n>=r&&a()};c.addEventListener("transitionend",g),setTimeout(()=>{c.removeEventListener("transitionend",g),n++,n>=r&&a()},this.timing.lPiecePlacement*this.animationSpeed+100)},o*50)}),r===0&&a()})}async animateLPieceRemoval(e){return new Promise(t=>{const i=this.gameBoard.querySelectorAll(`.l-piece[data-player="${e}"]`);if(i.length===0){t();return}let a=0;const n=i.length;i.forEach((r,s)=>{setTimeout(()=>{r.style.transition=`all ${this.timing.lPiecePlacement*this.animationSpeed}ms ease-out`,r.style.transform="scale(0.8) rotate(45deg)",r.style.opacity="0";const o=()=>{r.removeEventListener("transitionend",o),r.parentNode&&r.parentNode.removeChild(r),a++,a>=n&&t()};r.addEventListener("transitionend",o),setTimeout(()=>{r.removeEventListener("transitionend",o),r.parentNode&&r.parentNode.removeChild(r),a++,a>=n&&t()},this.timing.lPiecePlacement*this.animationSpeed+100)},s*30)})})}async animateNeutralPiecePlacement(e,t){return new Promise(i=>{const a=this.boardRenderer.getCellAt(e,t);if(!a){i();return}this.soundManager&&this.soundManager.playNeutralPiecePlace();const n=document.createElement("div");n.className="neutral-piece",n.style.cssText=`
                position: absolute;
                top: 25%;
                left: 25%;
                right: 25%;
                bottom: 25%;
                background: radial-gradient(circle at 30% 30%, #ffffff, #e5e7eb);
                border: 2px solid #9ca3af;
                border-radius: 50%;
                transform: scale(0);
                opacity: 0;
                transition: all ${this.timing.neutralPiece*this.animationSpeed}ms cubic-bezier(0.34, 1.56, 0.64, 1);
                z-index: 8;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            `,a.appendChild(n),requestAnimationFrame(()=>{n.style.transform="scale(1)",n.style.opacity="1"});const r=()=>{n.removeEventListener("transitionend",r),i()};n.addEventListener("transitionend",r),setTimeout(()=>{n.removeEventListener("transitionend",r),i()},this.timing.neutralPiece*this.animationSpeed+100)})}showLPieceRotationPreview(e,t,i){this.clearLPiecePreview(),e.forEach((a,n)=>{const[r,s]=a,o=this.boardRenderer.getCellAt(r,s);if(o){const d=document.createElement("div");d.className=`l-piece-preview player-${t} ${n===0?"anchor":"segment"}`,d.style.cssText=`
                    position: absolute;
                    top: 15%;
                    left: 15%;
                    right: 15%;
                    bottom: 15%;
                    background: ${t===1?"rgba(59, 130, 246, 0.6)":"rgba(239, 68, 68, 0.6)"};
                    border: 2px dashed ${t===1?"#3b82f6":"#ef4444"};
                    border-radius: 4px;
                    transform: rotate(${i*45}deg);
                    z-index: 12;
                    pointer-events: none;
                    animation: pulse-preview 1s infinite alternate;
                `,o.appendChild(d),this.previewElements.push(d)}})}clearLPiecePreview(){this.previewElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.previewElements=[]}clearPlayerLPiece(e){this.gameBoard.querySelectorAll(`.l-piece[data-player="${e}"]`).forEach(i=>{i.parentNode&&i.parentNode.removeChild(i)})}async animateVictory(e,t=[]){if(this.reducedMotion){this.gameBoard.querySelectorAll(`.l-piece[data-player="${e}"]`).forEach(n=>{n.classList.add("victory-glow")});return}const i=this.gameBoard.querySelectorAll(`.l-piece[data-player="${e}"]`);for(let a=0;a<i.length;a++)setTimeout(()=>{i[a].classList.add("victory-piece"),setTimeout(()=>{i[a].classList.add("victory-glow")},this.timing.victoryReveal)},a*this.timing.victoryStagger);t.forEach((a,n)=>{const[r,s]=a,o=this.boardRenderer.getCellAt(r,s);o&&setTimeout(()=>{o.classList.add("blocking-highlight")},i.length*this.timing.victoryStagger+n*50)}),setTimeout(()=>{this.triggerLGameCelebration(e)},this.timing.victoryReveal+i.length*this.timing.victoryStagger)}triggerLGameCelebration(e){if(!(this.reducedMotion||this.celebrationActive)){this.celebrationActive=!0;try{if(this.soundManager&&this.soundManager.playVictory(),this.particleEngine){const i=this.gameBoard.getBoundingClientRect(),a=i.left+i.width/2,n=i.top+i.height/2,r=e===1?["#3b82f6","#1d4ed8","#60a5fa","#1e40af","#93c5fd"]:["#ef4444","#dc2626","#f87171","#b91c1c","#fca5a5"];this.particleEngine.createCelebrationBurst({x:a,y:n,pattern:"explosion",particleCount:50,colors:r})}else{const t=document.createElement("div");if(t.innerHTML=e===1?"üîµüéâ‚ú®":"üî¥üéâ‚ú®",t.style.cssText=`
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    font-size: 2.5rem;
                    z-index: 9999;
                    animation: l-game-celebration 2s ease-out forwards;
                    pointer-events: none;
                `,!document.getElementById("l-game-celebration-keyframes")){const i=document.createElement("style");i.id="l-game-celebration-keyframes",i.textContent=`
                        @keyframes l-game-celebration {
                            0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5) rotate(0deg); }
                            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2) rotate(180deg); }
                            100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5) rotate(360deg); }
                        }
                        @keyframes pulse-preview {
                            0% { opacity: 0.6; }
                            100% { opacity: 1.0; }
                        }
                    `,document.head.appendChild(i)}this.gameBoard.style.position="relative",this.gameBoard.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},2e3)}}catch{}finally{setTimeout(()=>{this.celebrationActive=!1},this.timing.confettiDuration)}}}animateCellHover(e,t){if(this.reducedMotion)return;const i=this.boardRenderer.getCellAt(e,t);if(!i)return;const a=document.createElement("div");a.className="cell-hover-ripple",a.style.cssText=`
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(59, 130, 246, 0.3);
            transform: translate(-50%, -50%) scale(0);
            animation: cell-ripple-expand 0.5s ease-out;
            pointer-events: none;
            z-index: 5;
        `,i.style.position="relative",i.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},500)}queueAnimation(e){this.animationQueue.push(e),this.processAnimationQueue()}async processAnimationQueue(){if(!(this.isAnimating||this.animationQueue.length===0)){for(this.isAnimating=!0;this.animationQueue.length>0;){const e=this.animationQueue.shift();try{await e()}catch{}}this.isAnimating=!1}}clearAllEffects(){this.celebrationActive=!1,this.particleEngine&&this.particleEngine.clearCanvas(),this.animationQueue=[],this.isAnimating=!1,this.clearLPiecePreview(),this.gameBoard.querySelectorAll(".l-piece, .neutral-piece").forEach(i=>{i.parentNode&&i.parentNode.removeChild(i)}),this.gameBoard.querySelectorAll(".victory-glow, .blocking-highlight").forEach(i=>{i.classList.remove("victory-glow","blocking-highlight")})}getAnimationState(){return{isAnimating:this.isAnimating,queueLength:this.animationQueue.length,celebrationActive:this.celebrationActive,previewElementsCount:this.previewElements.length,reducedMotion:this.reducedMotion}}destroy(){this.animationQueue=[],this.isAnimating=!1,this.clearLPiecePreview(),this.clearAllEffects(),this.particleEngine&&(this.particleEngine.destroy(),this.particleEngine=null),this.soundManager&&(this.soundManager.destroy(),this.soundManager=null),this.celebrationActive=!1}}const f=document.createElement("style");f.textContent=`
@keyframes cell-ripple-expand {
    0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0.8;
    }
    100% {
        transform: translate(-50%, -50%) scale(3);
        opacity: 0;
    }
}

.l-piece.victory-piece {
    animation: victory-pulse 0.8s infinite alternate;
}

.l-piece.victory-glow {
    box-shadow: 0 0 20px currentColor, 0 0 40px currentColor !important;
    transform: scale(1.1) !important;
}

.blocking-highlight {
    background: rgba(255, 255, 0, 0.3) !important;
    animation: blocking-flash 1s infinite alternate;
}

@keyframes victory-pulse {
    0% { transform: scale(1); }
    100% { transform: scale(1.05); }
}

@keyframes blocking-flash {
    0% { background: rgba(255, 255, 0, 0.3) !important; }
    100% { background: rgba(255, 255, 0, 0.6) !important; }
}
`;document.head.appendChild(f);class b{constructor(e=null){this.gameEngine=e||new P,this.isInitialized=!1,this.boardRenderer=null,this.interactionHandler=null,this.animationManager=null,this.currentPlayer=1,this.gameOver=!1,this.moveCount=0,this.gameHistory=[],this.selectedLPiece=null,this.interactionMode="L_PIECE",this.currentOrientation=0,this.movePhase="l-piece",this.pendingNeutralMove=null,this.assistanceSettings={player1:{hints:!1,validMoves:!1,undo:!0},player2:{hints:!1,validMoves:!1,undo:!0}},this.scores={player1:0,player2:0},this.performanceStats={totalMoves:0,averageMoveTime:0,memoryUsage:0}}async init(){try{return await this.initializeBitPackedEngine(),await this.initializeComponents(),await this.setupBoard(),this.setupInteractions(),this.setupUIControls(),this.setupKeyboardShortcuts(),this.setupModalSystem(),this.setupGameEngineEvents(),this.initializeGameState(),await this.loadInitialGameConfiguration(),this.isInitialized=!0,!0}catch{return this.showMessage("UI-System konnte nicht geladen werden.","error"),!1}}async initializeBitPackedEngine(){this.gameEngine.initialized||(await this.gameEngine.init(),this.performanceStats=this.gameEngine.getPerformanceStats())}async initializeComponents(){const e=document.getElementById("gameBoard");if(!e)throw new Error("Game board element not found");this.boardRenderer=new w(e),await this.boardRenderer.init(),this.interactionHandler=new E(this.boardRenderer,e),this.animationManager=new L(e,this.boardRenderer)}async setupBoard(){await this.boardRenderer.createBoard()}setupInteractions(){this.interactionHandler.setupCellInteractions(),this.interactionHandler.setupKeyboardInteractions(),this.interactionHandler.setCallbacks({onCellClick:(e,t,i,a,n)=>{this.handleCellClick(e,t,i,a,n)},onCellHover:(e,t)=>{this.handleCellHover(e,t)},onCellHoverLeave:()=>{this.handleCellHoverLeave()},onLPieceSelect:e=>{this.handleLPieceSelect(e)}})}setupUIControls(){const e=document.getElementById("newGameBtn");e&&e.addEventListener("click",()=>this.startNewGame());const t=document.getElementById("undoBtn");t&&t.addEventListener("click",()=>this.undoLastMove());const i=document.getElementById("helpBtn");i&&i.addEventListener("click",()=>this.showHelpModal());const a=document.getElementById("assistanceBtn");a&&a.addEventListener("click",()=>this.showAssistanceModal());const n=document.getElementById("selectPlayer1LPiece");n&&n.addEventListener("click",()=>this.selectLPiece(1));const r=document.getElementById("selectPlayer2LPiece");r&&r.addEventListener("click",()=>this.selectLPiece(2))}setupKeyboardShortcuts(){document.addEventListener("keydown",e=>{if(!(e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"))switch(e.key.toLowerCase()){case"n":this.startNewGame(),e.preventDefault();break;case"u":this.undoLastMove(),e.preventDefault();break;case"r":this.rotateCurrentLPiece(),e.preventDefault();break;case"1":this.selectLPiece(1),e.preventDefault();break;case"2":this.selectLPiece(2),e.preventDefault();break;case"l":this.setInteractionMode("L_PIECE"),e.preventDefault();break;case"space":this.setInteractionMode("NEUTRAL_PIECE"),e.preventDefault();break;case"f1":this.showHelpModal(),e.preventDefault();break;case"f2":this.showAssistanceModal(),e.preventDefault();break}})}setupGameEngineEvents(){this.gameEngine.on("move",e=>{this.onEngineMove(e)}),this.gameEngine.on("lPieceMove",e=>{this.onEngineLPieceMove(e)}),this.gameEngine.on("neutralMove",e=>{this.onEngineNeutralMove(e)}),this.gameEngine.on("gameOver",e=>{this.onEngineGameOver(e)}),this.gameEngine.on("newGame",e=>{this.onEngineNewGame(e)})}async handleCellClick(e,t,i,a,n){if(!this.gameOver)try{if(this.gameEngine.getBoard()[e][t]===this.currentPlayer){this.selectLPiece(this.currentPlayer),this.showMessage(`L-St√ºck Spieler ${this.currentPlayer} ausgew√§hlt. Klicken Sie auf eine neue Position.`,"info");return}i==="L_PIECE"&&a?await this.placeLPiece(e,t,a,n):i==="NEUTRAL_PIECE"?await this.placeNeutralPiece(e,t):this.showMessage("Klicken Sie zuerst auf Ihr L-St√ºck, dann auf die neue Position.","info")}catch{this.showMessage("Zug konnte nicht ausgef√ºhrt werden.","error")}}handleCellHover(e,t){this.animationManager.animateCellHover(e,t)}handleCellHoverLeave(){}handleLPieceSelect(e){this.selectedLPiece=e,this.setInteractionMode("L_PIECE"),this.updateCurrentPlayerDisplay()}async placeLPiece(e,t,i,a){try{const n=this.gameEngine.makeMove(e,t,a);if(this.animationManager){const r=this.calculateLPiecePositions(e,t,a);await this.animationManager.animateLPiecePlacement(r,i,a)}await this.updateBoardFromEngine(),this.moveCount=n.moveNumber,this.currentPlayer=n.currentPlayer,this.gameOver=n.isGameOver,this.updateGameDisplay(),n.isGameOver?await this.handleGameEnd(n.winner):(this.movePhase="neutral",this.updateGameStatus("Neutraler Stein bewegen (optional)"))}catch(n){this.showMessage(`Ung√ºltiger L-St√ºck Zug: ${n.message}`,"warning")}}async placeNeutralPiece(e,t){try{const i=this.gameEngine.getNeutralPieces();if(i.length===0){this.showMessage("Keine neutralen Steine zum Bewegen verf√ºgbar.","warning");return}const a=i[0],n=this.gameEngine.moveNeutralPiece(a.row,a.col,e,t);this.animationManager&&await this.animationManager.animateNeutralPieceMovement(a.row,a.col,e,t),await this.updateBoardFromEngine(),this.movePhase="complete",this.updateGameStatus("Zug abgeschlossen - n√§chster Spieler")}catch(i){this.showMessage(`Neutraler Stein konnte nicht bewegt werden: ${i.message}`,"warning")}}calculateLPiecePositions(e,t,i){return[[[0,0],[1,0],[2,0],[0,1]],[[0,0],[0,1],[0,2],[1,0]],[[0,0],[0,1],[1,1],[2,1]],[[0,0],[1,0],[1,-1],[1,-2]],[[0,0],[1,0],[2,0],[0,-1]],[[0,0],[0,1],[0,2],[-1,0]],[[0,0],[0,-1],[1,-1],[2,-1]],[[0,0],[-1,0],[-1,1],[-1,2]]][i%8].map(([r,s])=>[e+r,t+s])}selectLPiece(e){this.selectedLPiece=e,this.interactionHandler.selectLPiece(e),this.setInteractionMode("L_PIECE"),this.updateCurrentPlayerDisplay()}rotateCurrentLPiece(){this.currentOrientation=(this.currentOrientation+1)%8,this.interactionHandler.rotateCurrentLPiece()}setInteractionMode(e){this.interactionMode=e,this.interactionHandler.setInteractionMode(e)}switchPlayer(){this.currentPlayer=this.currentPlayer===1?2:1,this.selectedLPiece=this.currentPlayer,this.updateCurrentPlayerDisplay()}proceedToNextPhase(){this.setInteractionMode("NEUTRAL_PIECE")}async handleGameEnd(e){this.gameOver=!0,this.scores[`player${e}`]++,await this.animationManager.animateVictory(e),this.updateScoreDisplay(),this.updateGameStatus(`Spieler ${e} gewinnt!`),this.showMessage(`üéâ Spieler ${e} hat gewonnen!`,"success")}async startNewGame(){try{this.gameEngine.newGame(),this.gameOver=!1,this.moveCount=0,this.currentPlayer=1,this.selectedLPiece=1,this.interactionMode="L_PIECE",this.currentOrientation=0,this.movePhase="l-piece",this.pendingNeutralMove=null,this.gameHistory=[],this.animationManager&&this.animationManager.clearAllEffects(),this.boardRenderer&&(await this.boardRenderer.clearBoard(),await this.boardRenderer.createBoard()),await this.updateBoardFromEngine(),this.updateGameDisplay(),this.updateGameStatus("Neues L-Game gestartet - L-St√ºck setzen")}catch{this.showMessage("Neues Spiel konnte nicht gestartet werden.","error")}}async updateBoardFromEngine(){if(!this.gameEngine||!this.boardRenderer)return;const e=this.gameEngine.getBoard();if(!e)return;await this.boardRenderer.clearBoard();const t=[],i=[],a=[];for(let n=0;n<4;n++)for(let r=0;r<4;r++){const s=e[n][r];s===1?t.push([n,r]):s===2?i.push([n,r]):s===3&&a.push([n,r])}t.length>0&&this.boardRenderer.placeLPiece("player1",t,0),i.length>0&&this.boardRenderer.placeLPiece("player2",i,0),a.forEach(([n,r],s)=>{this.boardRenderer.placeNeutralPiece(`neutral${s+1}`,n,r)})}async undoLastMove(){if(this.moveCount===0){this.showMessage("Keine Z√ºge zum R√ºckg√§ngigmachen.","info");return}try{(await this.gameEngine.undoMove()).success?(this.moveCount--,this.updateGameDisplay(),this.showMessage("Zug r√ºckg√§ngig gemacht.","info")):this.showMessage("Zug konnte nicht r√ºckg√§ngig gemacht werden.","warning")}catch{this.showMessage("Fehler beim R√ºckg√§ngigmachen.","error")}}initializeGameState(){this.updateGameDisplay(),this.updateGameStatus("Bereit zum Spielen"),this.selectLPiece(1)}async loadInitialGameConfiguration(){try{await this.updateBoardFromEngine(),this.updateGameDisplay(),this.updateGameStatus("L-Game bereit - Spieler 1 beginnt")}catch{}}updateGameDisplay(){this.updateMoveCounter(),this.updateCurrentPlayerDisplay(),this.updateScoreDisplay()}updateMoveCounter(){const e=document.getElementById("moveCounter");e&&(e.textContent=this.moveCount)}updateCurrentPlayerDisplay(){const e=document.getElementById("currentPlayerDisplay"),t=document.getElementById("currentPlayerIndicator");e&&(e.innerHTML=`
                <span class="player-piece player-${this.currentPlayer}"></span>
                <span>Spieler ${this.currentPlayer}</span>
            `),t&&(t.innerHTML=`
                <span class="player-indicator active">
                    <span class="player-piece player-${this.currentPlayer}"></span>
                    Spieler ${this.currentPlayer} ist am Zug
                </span>
            `)}updateScoreDisplay(){const e=document.getElementById("player1Score"),t=document.getElementById("player2Score");e&&(e.textContent=this.scores.player1),t&&(t.textContent=this.scores.player2)}updateGameStatus(e){const t=document.getElementById("gameStatus");t&&(t.textContent=e)}showMessage(e,t="info"){const i=document.createElement("div");i.className=`game-message message-${t}`,i.textContent=e,i.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${t==="error"?"#ef4444":t==="warning"?"#f59e0b":t==="success"?"#10b981":"#3b82f6"};
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            z-index: 10000;
            max-width: 300px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        `,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},3e3)}setupModalSystem(){const e=document.getElementById("helpModal"),t=document.getElementById("closeHelpBtn"),i=document.getElementById("closeHelpFooterBtn");t&&t.addEventListener("click",()=>this.hideModal("helpModal")),i&&i.addEventListener("click",()=>this.hideModal("helpModal"));const a=document.getElementById("assistanceModal"),n=document.getElementById("closeAssistanceBtn"),r=document.getElementById("closeAssistanceFooterBtn");n&&n.addEventListener("click",()=>this.hideModal("assistanceModal")),r&&r.addEventListener("click",()=>this.hideModal("assistanceModal")),[e,a].forEach(s=>{s&&s.addEventListener("click",o=>{o.target===s&&this.hideModal(s.id)})})}showHelpModal(){this.showModal("helpModal")}showAssistanceModal(){this.showModal("assistanceModal")}showModal(e){const t=document.getElementById(e);t&&(t.style.display="flex",t.classList.remove("hidden"),document.body.style.overflow="hidden")}hideModal(e){const t=document.getElementById(e);t&&(t.style.display="none",t.classList.add("hidden"),document.body.style.overflow="")}getGameState(){return{currentPlayer:this.currentPlayer,gameOver:this.gameOver,moveCount:this.moveCount,scores:{...this.scores},selectedLPiece:this.selectedLPiece,interactionMode:this.interactionMode,currentOrientation:this.currentOrientation}}destroy(){this.animationManager&&this.animationManager.destroy(),this.interactionHandler&&this.interactionHandler.destroy(),this.boardRenderer&&this.boardRenderer.destroy(),this.gameEngine&&this.gameEngine.destroy(),this.isInitialized=!1}onEngineMove(e){this.updateBoardFromEngine(),this.updateGameDisplay()}onEngineLPieceMove(e){this.currentPlayer=e.currentPlayer,this.moveCount=e.moveNumber,e.canMoveNeutral?(this.movePhase="neutral",this.updateGameStatus("Neutraler Stein bewegen (optional)")):this.movePhase="complete",this.updateGameDisplay()}onEngineNeutralMove(e){this.movePhase="complete",this.updateGameStatus("Zug abgeschlossen"),this.updateBoardFromEngine()}onEngineGameOver(e){this.gameOver=!0,this.handleGameEnd(e.winner)}onEngineNewGame(e){this.updateBoardFromEngine(),this.updateGameDisplay()}}async function p(){try{const l=document.getElementById("loading-overlay"),e=document.getElementById("loading-progress");e&&(e.textContent="BitPacked Engine wird initialisiert...");const t=new b;await t.init();const i=document.getElementById("wasm-status"),a=document.getElementById("game-engine-status");i&&(i.textContent="Geladen",i.className="font-bold text-green-600"),a&&(a.textContent="BitPacked Ready",a.className="font-bold text-green-600"),l&&(l.style.display="none"),window.ui=t,window.gameEngine=t.gameEngine}catch(l){const e=document.getElementById("error-modal"),t=document.getElementById("error-message"),i=document.getElementById("loading-overlay");i&&(i.style.display="none"),e&&e.classList.remove("hidden"),t&&(t.textContent=`BitPacked Engine Fehler: ${l.message}`)}}document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("retry-button"),e=document.getElementById("close-error");l&&l.addEventListener("click",()=>{location.reload()}),e&&e.addEventListener("click",()=>{const t=document.getElementById("error-modal");t&&t.classList.add("hidden")})});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p();
//# sourceMappingURL=lgame-8ARrmcya.js.map
